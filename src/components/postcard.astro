---
import PostImage from "./postimage.astro";
import Card from "./card.astro";

const {post} = Astro.props;

const dateOptions: object = {
	year: "numeric",
	month: "long",
	day: "numeric",
};

const formattedPublishDate = new Date(post.data.date).toLocaleDateString("en-US", dateOptions);

---

<Card>
    <div slot="header">
        <h2 class="text-2xl font-bold"><a href={`/posts/${post.slug}`}>{post.data.title || post.slug}</a></h2>
        <p class="text-sm py-2">{formattedPublishDate}</p>
    </div>
    {post.data.image && <a href={`/posts/${post.slug}`}><PostImage slot="image" post={post} /></a>}
    <p><a href={`/posts/${post.slug}`}>{post.data.description}</a></p>
    <a slot="footer" href={`/posts/${post.slug}`} class="flex items-center gap-1">Read more <span class="text-lg">â†’</span></a>
</Card>