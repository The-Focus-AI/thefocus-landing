---
import '../styles/fonts.css';
// import '@fontsource-variable/noto-serif';
import '@fontsource/noto-serif/300.css';
import '@fontsource/noto-serif/400.css';
import '@fontsource/noto-serif/500.css';
import '@fontsource/iosevka-etoile';
//import '../fonts/bembo.css';
import '@fontsource/fraunces';
import EmailSignup from "../components/email-signup.astro";
import OrganizationSchema from "../components/schemas/organization.astro";
import WebsiteSchema from "../components/schemas/website.astro";
import NewsletterSchema from "../components/schemas/newsletter.astro";
import { SEO } from "astro-seo";
// import { getImagePath } from "astro-opengraph-images";

const pageTitle = Astro.props.pageTitle || "the focus.ai";
const bigHeader = Astro.props.bigHeader || false;
const showOrganizationSchema = Astro.props.showOrganizationSchema || false;

const description = Astro.props.description || "Come a visit us";
const { url, site } = Astro;
const openGraphImageUrl = `${site}${Astro.props.openGraphImage || `/og.png`}`;
// getImagePath({ url, site });

let category = Astro.props.category || "home";
---
<!DOCTYPE html>
<html lang="en" data-theme="light" class="antialiased subpixel-antialiased">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content={Astro.generator} />
    <title>{pageTitle}</title>
    <SEO
      title={pageTitle}
      description={description}
      openGraph={{
        basic: {
          title: pageTitle,
          type: "website",
          image: openGraphImageUrl
        },
        optional: {
          description: description,
        }
      }}
      twitter={{
        creator: "@wschenk"
      }}
      extend={{
        // extending the default link tags
        link: [{ rel: "icon", href: "/favicon.ico" }],
        // extending the default meta tags
        meta: [
          {
            name: "twitter:image",
            content: openGraphImageUrl,
          },
          { name: "twitter:title", content: pageTitle },
          { name: "twitter:description", content: description },
        ],
      }}
    />
    <link
    rel="alternate"
    type="application/rss+xml"
    title="The Focus AI"
    href={new URL("rss.xml", Astro.site)}
/>
<script defer data-domain="thefocus.ai" src="https://plausible.io/js/script.file-downloads.js"></script>
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="manifest" href="/site.webmanifest" />

    <!-- Always include Website schema on all pages -->
    <WebsiteSchema />
    
    <!-- Conditionally include Organization schema -->
    {showOrganizationSchema && (
      <OrganizationSchema />
      
    )}

    <NewsletterSchema url="https://newsletter.thefocus.ai/"/>
    
    <!-- Other head elements -->
    <slot name="head" />
  </head>
  <body class={category === 'insights' || category === 'tools' ? 'bg-[#e8e6df]' : 'bg-paper'}>
    <header class="border-b border-ink/10">
      <div class="max-w-screen-xl mx-auto px-4 md:px-8 py-8 flex flex-col md:flex-row justify-between items-start md:items-center gap-6">
        <a href="/" class="order-2 md:order-1 group">
          <h1 class="text-sm md:text-sm font-medium uppercase tracking-[0.15em]">
            <span class="opacity-30 group-hover:opacity-100 transition-opacity duration-150 text-ink">[</span><span class="text-graphite group-hover:text-ink transition-colors duration-150">FOCUS<span class="text-graphite group-hover:text-ink transition-colors duration-150">/</span>AI</span><span class="opacity-30 group-hover:opacity-100 transition-opacity duration-300 text-ink">]</span>
          </h1>
        </a>
        <nav class="order-1 md:order-2">
          <ul class="flex flex-wrap gap-x-6 gap-y-2 text-sm uppercase tracking-[0.15em] text-graphite">
            <li>
              <a href="/case-studies" class:list={["group inline-block", category === "case-studies" ? "text-ink" : ""]}>
                <span class="opacity-30 group-hover:opacity-100 transition-opacity duration-150 text-ink">[</span><span class="group-hover:text-ink transition-colors duration-150">Case Studies</span><span class="opacity-30 group-hover:opacity-100 transition-opacity duration-300 text-ink">]</span>
              </a>
            </li>
            <li>
              <a href="/capabilities" class:list={["group inline-block", category === "capabilities" ? "text-ink" : ""]}>
                <span class="opacity-30 group-hover:opacity-100 transition-opacity duration-150 text-ink">[</span><span class="group-hover:text-ink transition-colors duration-150">Capabilities</span><span class="opacity-30 group-hover:opacity-100 transition-opacity duration-300 text-ink">]</span>
              </a>
            </li>
            <li>
              <a href="/about" class:list={["group inline-block", category === "about" ? "text-ink" : ""]}>
                <span class="opacity-30 group-hover:opacity-100 transition-opacity duration-150 text-ink">[</span><span class="group-hover:text-ink transition-colors duration-150">About</span><span class="opacity-30 group-hover:opacity-100 transition-opacity duration-300 text-ink">]</span>
              </a>
            </li>
            <li>
              <a href="mailto:hey@thefocus.ai" class="group inline-block">
                <span class="opacity-30 group-hover:opacity-100 transition-opacity duration-150 text-ink">[</span><span class="group-hover:text-ink transition-colors duration-150">Contact</span><span class="opacity-30 group-hover:opacity-100 transition-opacity duration-300 text-ink">]</span>
              </a>
            </li>
            <li class="text-graphite/30">/</li>
            <li>
              <a href="/insights" class:list={["group inline-block", category === "insights" ? "text-ink" : ""]}>
                <span class="opacity-30 group-hover:opacity-100 transition-opacity duration-150 text-ink">[</span><span class="group-hover:text-ink transition-colors duration-150">Insights</span><span class="opacity-30 group-hover:opacity-100 transition-opacity duration-300 text-ink">]</span>
              </a>
            </li>
            <li>
              <a href="/tools" class:list={["group inline-block", category === "tools" ? "text-ink" : ""]}>
                <span class="opacity-30 group-hover:opacity-100 transition-opacity duration-150 text-ink">[</span><span class="group-hover:text-ink transition-colors duration-150">Tools</span><span class="opacity-30 group-hover:opacity-100 transition-opacity duration-300 text-ink">]</span>
              </a>
            </li>
          </ul>
        </nav>
      </div>
    </header>

    <slot name="hero"/>


    <main class="w-full">

      <section class:list={[
          "max-w-screen-xl mx-auto py-8 px-4 md:px-8",
          bigHeader ? "md:py-16" : ""
        ]}>
        <slot/>
      </section>

      <EmailSignup />

      <section class="bg-ink text-paper py-24 px-4">
        <div class="max-w-screen-xl mx-auto text-center">
          <h2 class="text-3xl md:text-5xl font-bold mb-6">
            Ready to distill signal from noise?
          </h2>
          <a
            href="mailto:hey@thefocus.ai"
            class="inline-block px-8 py-4 border-2 border-petrol bg-petrol text-paper font-medium uppercase text-sm tracking-wider hover:bg-transparent hover:text-petrol transition-colors"
          >
            Contact Us
          </a>
        </div>
      </section>
    </main>

    <footer class="border-t border-ink/10 bg-paper">
      <div class="max-w-screen-xl mx-auto px-4 md:px-8 py-16">
        <div class="grid md:grid-cols-4 gap-12">
          <!-- Company -->
          <div>
            <h3 class="text-xs uppercase tracking-[0.15em] text-ink font-medium mb-4">Company</h3>
            <ul class="space-y-3 text-sm">
              <li><a href="/about" class="text-graphite hover:text-ink transition-colors">About</a></li>
              <li><a href="/case-studies" class="text-graphite hover:text-ink transition-colors">Case Studies</a></li>
              <li><a href="/capabilities" class="text-graphite hover:text-ink transition-colors">Capabilities</a></li>
              <li><a href="mailto:hey@thefocus.ai" class="text-graphite hover:text-ink transition-colors">Contact</a></li>
            </ul>
          </div>

          <!-- Products -->
          <div>
            <h3 class="text-xs uppercase tracking-[0.15em] text-ink font-medium mb-4">Products</h3>
            <ul class="space-y-3 text-sm">
              <li><a href="https://account.thefocus.ai" class="text-graphite hover:text-ink transition-colors" target="_blank" rel="noopener">Distill-X</a></li>
              <li><a href="https://ffffound-browser.thefocus.ai/" class="text-graphite hover:text-ink transition-colors" target="_blank" rel="noopener">FFFFound Browser</a></li>
              <li><a href="https://memes-browser.thefocus.ai" class="text-graphite hover:text-ink transition-colors" target="_blank" rel="noopener">Memes Browser</a></li>
              <li><a href="https://account.thefocus.ai" class="text-graphite hover:text-ink transition-colors" target="_blank" rel="noopener">Registry</a></li>
            </ul>
          </div>

          <!-- Resources -->
          <div>
            <h3 class="text-xs uppercase tracking-[0.15em] text-ink font-medium mb-4">Resources</h3>
            <ul class="space-y-3 text-sm">
              <li><a href="/insights" class="text-graphite hover:text-ink transition-colors">Insights</a></li>
              <li><a href="/tools" class="text-graphite hover:text-ink transition-colors">Tools</a></li>
              <li><a href="https://newsletter.thefocus.ai" class="text-graphite hover:text-ink transition-colors" target="_blank" rel="noopener">Newsletter</a></li>
            </ul>
          </div>

          <!-- Connect -->
          <div>
            <h3 class="text-xs uppercase tracking-[0.15em] text-ink font-medium mb-4">Connect</h3>
            <ul class="space-y-3 text-sm">
              <li><a href="https://github.com/The-Focus-AI" class="text-graphite hover:text-ink transition-colors" target="_blank" rel="noopener">GitHub</a></li>
              <li><a href="https://www.linkedin.com/in/will-schenk-420266/" class="text-graphite hover:text-ink transition-colors" target="_blank" rel="noopener">LinkedIn</a></li>
              <li><a href="https://x.com/wschenk" class="text-graphite hover:text-ink transition-colors" target="_blank" rel="noopener">X / Twitter</a></li>
            </ul>
          </div>
        </div>

        <div class="mt-16 pt-8 border-t border-ink/10 flex flex-col md:flex-row justify-between items-center gap-4">
          <p class="text-sm text-graphite">Â© 2024 Focus.AI. All rights reserved.</p>
          <p class="text-sm text-graphite">Distill the signal from the noise</p>
        </div>
      </div>
    </footer>
  </body>
</html>
