---
import BaseLayout from "../layout/BaseLayout.astro";
import { getCaseStudies, getCaseStudyUrl } from "../utils/case-studies.js";

const allCaseStudies = await getCaseStudies();

const engagements = [
  {
    number: "01",
    title: "Strategy & Roadmap",
    timeline: "4-6 weeks",
    description: "For leaders who need clarity before committing. We help you understand what's possible, what's practical, and what actually fits your business.",
    deliverables: ["AI opportunity assessment", "Prioritized roadmap", "Tech recommendations", "Build vs. buy analysis"],
    cta: "Not sure where to start? Let's figure it out together.",
    ctaLink: "mailto:hey@thefocus.ai?subject=Strategy%20Engagement"
  },
  {
    number: "02",
    title: "Build & Ship",
    timeline: "6-12 weeks",
    description: "For teams with a defined problem ready to move. We ship production-ready AI systems, not prototypes that sit on a shelf.",
    deliverables: ["Working AI systems", "Custom integrations", "User-facing interfaces", "Documentation & handoff"],
    cta: "Ready to build? Tell us what you're trying to solve.",
    ctaLink: "mailto:hey@thefocus.ai?subject=Build%20Engagement"
  },
  {
    number: "03",
    title: "Ongoing Partnership",
    timeline: "Monthly retainer",
    description: "For companies wanting continuous AI evolution. Like having a fractional AI team without the overhead of full-time hires.",
    deliverables: ["Dedicated team access", "Continuous optimization", "New feature development", "Team training"],
    cta: "Need a dedicated AI team? Let's talk.",
    ctaLink: "mailto:hey@thefocus.ai?subject=Partnership%20Inquiry"
  }
];

const capabilities = [
  {
    title: "Connect",
    tagline: "Your data exists. We make it talkable.",
    description: "Make your existing data AI-accessible — APIs, databases, documents. We build bridges between your systems and AI so people can ask questions in plain English and get answers in seconds.",
    example: "We built a conversational layer on top of TezLab's existing APIs — users ask questions in plain English, get answers in seconds. Zero changes to their backend.",
    caseStudyId: "tezlab-ai",
    relatedCaseStudies: ["upperhand-ai", "onboarding"]
  },
  {
    title: "Curate",
    tagline: "One tool, one job, done.",
    description: "Build focused interfaces for specific tasks — not one-size-fits-all dashboards. Every interface is designed around exactly what you need, and disappears when it's done.",
    example: "For Perplexity, we built a voice-first AI assistant for Samsung TVs — no keyboard, no mouse, just speak and get answers from across the room.",
    caseStudyId: "perplexity-samsung",
    relatedCaseStudies: ["image-browser", "name-drop-network"]
  },
  {
    title: "Distill",
    tagline: "Read less, know more.",
    description: "Filter noise and surface what matters — summaries, alerts, insights. We build systems that read so you don't have to.",
    example: "Upper Hand's research team spent 40 hours/week compiling celebrity data from spreadsheets. Now they ask a question and get answers in 30 seconds.",
    caseStudyId: "upperhand-ai",
    relatedCaseStudies: ["distill"]
  }
];

function getCaseStudy(id: string) {
  return allCaseStudies.find(cs => cs.id === id);
}
---

<BaseLayout
  pageTitle="Capabilities | Focus.AI"
  description="AI strategy, implementation, and ongoing partnership for product-led companies. Ship working AI in weeks, not quarters."
  category="capabilities"
>
  <div class="max-w-4xl mx-auto">
    <!-- Hero -->
    <div class="mb-16">
      <h1 class="text-5xl md:text-7xl font-bold mb-6 text-ink">How we work with you</h1>
      <p class="text-xl md:text-2xl text-graphite leading-relaxed">
        We work directly with founders and product leaders to ship working AI in weeks, not quarters. Every engagement starts with understanding your problem — we educate as much as we build.
      </p>
    </div>

    <!-- How We Work: Engagement Types -->
    <section class="mb-20">
      <h2 class="text-xs uppercase tracking-[0.2em] text-petrol mb-8 font-medium">Choose Your Path</h2>
      
      <div class="space-y-6">
        {engagements.map((engagement) => (
          <div class="border border-ink/10 rounded-2xl p-6 md:p-8 hover:border-petrol/30 hover:bg-tint-sage/30 transition-all">
            <div class="flex flex-col md:flex-row md:items-start gap-4 md:gap-8">
              <div class="flex-shrink-0">
                <span class="text-xs font-mono text-graphite/50">{engagement.number}</span>
              </div>
              <div class="flex-1">
                <div class="flex flex-col md:flex-row md:items-center gap-2 md:gap-4 mb-3">
                  <h3 class="text-2xl font-bold text-ink">{engagement.title}</h3>
                  <span class="text-sm font-medium text-petrol bg-petrol/10 px-3 py-1 rounded-full w-fit">{engagement.timeline}</span>
                </div>
                <p class="text-graphite leading-relaxed mb-4">{engagement.description}</p>
                <div class="mb-6">
                  <p class="text-sm text-graphite/60 mb-2">What you get:</p>
                  <div class="flex flex-wrap gap-2">
                    {engagement.deliverables.map((d) => (
                      <span class="text-sm text-graphite bg-ink/5 px-3 py-1 rounded-full">{d}</span>
                    ))}
                  </div>
                </div>
                <a 
                  href={engagement.ctaLink}
                  class="inline-block text-petrol font-medium hover:underline"
                >
                  {engagement.cta} →
                </a>
              </div>
            </div>
          </div>
        ))}
      </div>
    </section>

    <!-- What We Build: Capabilities -->
    <section class="mb-20">
      <h2 class="text-xs uppercase tracking-[0.2em] text-petrol mb-4 font-medium">What We Build</h2>
      <p class="text-xl text-graphite mb-10">Three types of solutions, each solving a specific problem.</p>
      
      <div class="space-y-12">
        {capabilities.map((cap) => {
          const caseStudy = getCaseStudy(cap.caseStudyId);
          const relatedStudies = cap.relatedCaseStudies
            ?.map(id => getCaseStudy(id))
            .filter(Boolean);
          return (
            <div class="border-t border-ink/10 pt-8">
              <div class="mb-4">
                <h3 class="text-3xl font-bold text-ink mb-2">{cap.title}</h3>
                <p class="text-lg text-petrol font-medium italic">"{cap.tagline}"</p>
              </div>
              <p class="text-graphite leading-relaxed mb-6">{cap.description}</p>
              <div class="bg-tint-warm/50 rounded-xl p-5 mb-4">
                <p class="text-sm text-graphite/60 mb-2">Example:</p>
                <p class="text-graphite">{cap.example}</p>
              </div>
              <div class="flex flex-col gap-2">
                {caseStudy && (
                  <a href={getCaseStudyUrl(caseStudy)} class="text-sm text-petrol hover:underline">
                    Read the {caseStudy.data.client || caseStudy.data.title} case study →
                  </a>
                )}
                {relatedStudies && relatedStudies.length > 0 && (
                  <div class="text-sm">
                    <span class="text-graphite">See in action: </span>
                    {relatedStudies.map((cs, i) => (
                      <>
                        <a href={getCaseStudyUrl(cs)} class="text-petrol hover:underline">{cs.data.client || cs.data.title}</a>
                        {i < relatedStudies.length - 1 && <span class="text-graphite"> · </span>}
                      </>
                    ))}
                  </div>
                )}
              </div>
            </div>
          );
        })}
      </div>
    </section>

    <!-- Who This Is For -->
    <section class="mb-20">
      <div class="bg-ink text-paper rounded-3xl p-8 md:p-12">
        <h2 class="text-3xl md:text-4xl font-bold mb-8">Is this for you?</h2>
        
        <div class="grid md:grid-cols-2 gap-8 md:gap-12">
          <div>
            <h3 class="text-lg font-bold text-petrol mb-4">This is for you if:</h3>
            <ul class="space-y-3">
              <li class="flex gap-3">
                <span class="text-petrol flex-shrink-0">✓</span>
                <span class="text-paper/80">You're a founder, CEO, or product leader at a growth-stage company</span>
              </li>
              <li class="flex gap-3">
                <span class="text-petrol flex-shrink-0">✓</span>
                <span class="text-paper/80">You have a product that works — now you want to make it smarter with AI</span>
              </li>
              <li class="flex gap-3">
                <span class="text-petrol flex-shrink-0">✓</span>
                <span class="text-paper/80">You don't have an internal AI/ML team (or yours is stretched thin)</span>
              </li>
              <li class="flex gap-3">
                <span class="text-petrol flex-shrink-0">✓</span>
                <span class="text-paper/80">You want a partner who explains the options, not just executes specs</span>
              </li>
              <li class="flex gap-3">
                <span class="text-petrol flex-shrink-0">✓</span>
                <span class="text-paper/80">You need working AI in weeks, not a 6-month "discovery phase"</span>
              </li>
            </ul>
          </div>
          
          <div>
            <h3 class="text-lg font-bold text-paper/60 mb-4">This probably isn't for you if:</h3>
            <ul class="space-y-3">
              <li class="flex gap-3">
                <span class="text-paper/40 flex-shrink-0">✗</span>
                <span class="text-paper/60">You need a 50-person team for a multi-year transformation</span>
              </li>
              <li class="flex gap-3">
                <span class="text-paper/40 flex-shrink-0">✗</span>
                <span class="text-paper/60">You want the cheapest option (we're not a dev shop)</span>
              </li>
              <li class="flex gap-3">
                <span class="text-paper/40 flex-shrink-0">✗</span>
                <span class="text-paper/60">You're looking for someone to "just build what we spec" without input</span>
              </li>
              <li class="flex gap-3">
                <span class="text-paper/40 flex-shrink-0">✗</span>
                <span class="text-paper/60">You're not sure AI is right for you and want free advice first</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Results -->
    <section class="mb-20">
      <h2 class="text-xs uppercase tracking-[0.2em] text-petrol mb-4 font-medium">Results</h2>
      <p class="text-xl text-graphite mb-8">What our clients have achieved:</p>
      
      <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-10">
        <div class="text-center">
          <p class="text-4xl md:text-5xl font-bold text-ink mb-2">27%</p>
          <p class="text-sm text-graphite">higher conversion</p>
        </div>
        <div class="text-center">
          <p class="text-4xl md:text-5xl font-bold text-ink mb-2">78%</p>
          <p class="text-sm text-graphite">faster decisions</p>
        </div>
        <div class="text-center">
          <p class="text-4xl md:text-5xl font-bold text-ink mb-2">50M+</p>
          <p class="text-sm text-graphite">devices reached</p>
        </div>
        <div class="text-center">
          <p class="text-4xl md:text-5xl font-bold text-ink mb-2">8 wks</p>
          <p class="text-sm text-graphite">to production</p>
        </div>
      </div>
      
      <a href="/case-studies" class="inline-block text-petrol font-medium hover:underline">
        See all case studies →
      </a>
    </section>

    <!-- FAQ -->
    <section class="mb-16">
      <h2 class="text-xs uppercase tracking-[0.2em] text-petrol mb-8 font-medium">Common Questions</h2>
      
      <div class="space-y-6">
        <div class="border-t border-ink/10 pt-6">
          <h3 class="text-lg font-bold text-ink mb-2">How involved do we need to be?</h3>
          <p class="text-graphite">We work closely with your team, but we drive the project. Expect 2-4 hours/week of your time for check-ins and decisions. We handle the rest.</p>
        </div>
        <div class="border-t border-ink/10 pt-6">
          <h3 class="text-lg font-bold text-ink mb-2">Do we need clean data first?</h3>
          <p class="text-graphite">No. Part of what we do is figure out what data you have and how to make it useful. Messy data is normal — we've seen it all.</p>
        </div>
        <div class="border-t border-ink/10 pt-6">
          <h3 class="text-lg font-bold text-ink mb-2">What if we don't know exactly what we need?</h3>
          <p class="text-graphite">That's what Strategy engagements are for. We'll figure it out together — understanding your options is the first step.</p>
        </div>
      </div>
    </section>

    <!-- Final CTA -->
    <div class="border-t border-ink/10 pt-16">
      <h2 class="text-3xl font-bold mb-6 text-ink">Ready to start?</h2>
      <p class="text-xl text-graphite mb-8">
        Whether you're exploring possibilities or ready to build, we'd love to hear what you're working on.
      </p>
      <div class="flex flex-col sm:flex-row gap-4">
        <a
          href="mailto:hey@thefocus.ai"
          class="inline-block px-8 py-4 bg-petrol text-paper font-medium uppercase text-sm tracking-wider rounded-full hover:bg-petrol/90 hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200 text-center"
        >
          Start a Conversation
        </a>
        <a
          href="/case-studies"
          class="inline-block px-8 py-4 border-2 border-ink/20 text-ink font-medium uppercase text-sm tracking-wider rounded-full hover:border-petrol hover:text-petrol hover:-translate-y-0.5 transition-all duration-200 text-center"
        >
          See Our Work
        </a>
      </div>
    </div>
  </div>
</BaseLayout>
